<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
    <title>üêæ MyPetFriends - Building a better way for local pet sitters to connect with pet owners</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            overflow-x: hidden;
            width: 100%;
            max-width: 100vw;
        }
        
        body {
            overflow-x: hidden;
            width: 100%;
            max-width: 100vw;
            position: relative;
        }

        :root {
            /* Primary Colors */
            --pink: #FFB6C1;
            --pink-hover: #FF9FB0;
            --blue: #A8D8EA;
            --sage: #B8D4B8;
            --yellow: #F4D49E;
            
            /* Supporting Colors */
            --cream: #FFF5E6;
            --white: #FFFFFF;
            --dark-gray: #2C2C2C;
            --medium-gray: #555555;
            --light-gray: #999999;
            
            /* Shadows */
            --shadow-light: 0 4px 15px rgba(0, 0, 0, 0.1);
            --shadow-medium: 0 6px 20px rgba(0, 0, 0, 0.15);
            --shadow-pink: 0 4px 15px rgba(255, 182, 193, 0.3);
            --shadow-nav: 0 2px 10px rgba(0,0,0,0.08);
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--white);
            color: var(--dark-gray);
            line-height: 1.6;
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
            line-height: 1.2;
        }

        /* Navigation Bar */
        header {
            background: var(--pink);
            padding: 1.5rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-nav);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: opacity 0.3s;
        }

        .logo:hover {
            opacity: 0.8;
        }

        .logo h1 {
            color: white;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .paw-icon {
            font-size: 1.5rem;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            font-family: 'Montserrat', sans-serif;
            transition: opacity 0.3s;
        }

        .nav-links a:hover {
            opacity: 0.8;
        }

        /* Hero Section */
        .hero {
            background: var(--white);
            padding: 2.5rem 2rem 2rem;
            text-align: center;
            overflow: hidden;
            min-height: calc(100vh - 76px);
            display: flex;
            align-items: center;
        }

        .hero-content {
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
        }

        .hero h2 {
            color: var(--dark-gray);
            font-size: 2.75rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
        }

        /* Search Container */
        .search-container {
            background: var(--white);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: var(--shadow-light);
            max-width: 700px;
            margin: 0 auto;
        }

        .search-form {
            display: grid;
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            text-align: left;
        }

        .form-group label {
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            color: var(--dark-gray);
            margin-bottom: 0.5rem;
        }

        .form-group label .required {
            color: var(--pink);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.875rem 1rem;
            font-family: 'Montserrat', sans-serif;
            font-size: 1rem;
            border: 2px solid #E0E0E0;
            border-radius: 10px;
            transition: border-color 0.3s;
            background: white;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--pink);
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: var(--light-gray);
        }

        /* Buttons */
        .btn-primary {
            background: var(--pink);
            color: white;
            padding: 1rem 2.5rem;
            font-family: 'Poppins', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            box-shadow: var(--shadow-pink);
            transition: all 0.3s;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 182, 193, 0.4);
            background: var(--pink-hover);
        }

        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        /* Carousel Section */
        .carousel-container {
            width: 100%;
            max-width: 1000px;
            margin: 2rem auto 0;
            overflow: hidden;
            position: relative;
            padding: 0 2rem;
        }

        .carousel {
            display: flex;
            gap: 1rem;
            animation: scroll 50s linear infinite;
            width: max-content;
        }

        .carousel:hover {
            animation-play-state: paused;
        }

        @keyframes scroll {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(calc(-180px * 9 - 1rem * 9));
            }
        }

        .carousel-item {
            flex-shrink: 0;
            width: 180px;
            height: 180px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow-light);
        }

        .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Join Section */
        .join-section {
            background: var(--blue);
            padding: 6rem 2rem;
            text-align: center;
        }

        .join-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .join-title {
            color: var(--dark-gray);
            font-size: 2.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .join-description {
            color: var(--medium-gray);
            font-size: 1.15rem;
            line-height: 1.6;
            margin-bottom: 2.5rem;
        }

        .join-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            max-width: 500px;
            margin: 0 auto 1.5rem;
            align-items: center;
        }

        .join-input {
            width: 100%;
            padding: 0.875rem 1rem;
            font-family: 'Montserrat', sans-serif;
            font-size: 1rem;
            border: 2px solid #E0E0E0;
            border-radius: 10px;
            background: white;
            transition: border-color 0.3s;
        }

        .join-input:focus {
            outline: none;
            border-color: var(--pink);
        }

        .join-success {
            display: none;
            background: var(--sage);
            color: white;
            padding: 2.5rem;
            border-radius: 10px;
            text-align: center;
            font-size: 1.1rem;
            line-height: 1.8;
            animation: slideDown 0.5s ease;
        }

        .join-success.active {
            display: block;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .join-disclaimer {
            color: var(--medium-gray);
            font-size: 0.9rem;
            font-style: italic;
        }

        /* Features Section */
        .features-section {
            background: var(--cream);
            padding: 6rem 2rem;
        }

        .features-section-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 600;
            color: var(--dark-gray);
            margin-bottom: 4rem;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            padding: 2.5rem;
            border-radius: 20px;
            text-align: center;
            transition: transform 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-card:nth-child(1) {
            background: var(--pink);
        }

        .feature-card:nth-child(2) {
            background: var(--sage);
        }

        .feature-card:nth-child(3) {
            background: var(--blue);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            display: block;
        }

        .feature-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: white;
            margin-bottom: 1rem;
        }

        .feature-description {
            font-size: 1rem;
            color: white;
            opacity: 0.95;
        }

        /* References Section */
        .references-carousel {
            display: flex;
            gap: 1.5rem;
            overflow-x: auto;
            padding-bottom: 1rem;
            scroll-snap-type: x mandatory;
        }

        .references-carousel::-webkit-scrollbar {
            height: 6px;
        }

        .references-carousel::-webkit-scrollbar-track {
            background: var(--cream);
            border-radius: 3px;
        }

        .references-carousel::-webkit-scrollbar-thumb {
            background: var(--pink);
            border-radius: 3px;
        }

        .reference-card {
            flex-shrink: 0;
            width: 300px;
            background: var(--cream);
            border-radius: 15px;
            padding: 1.5rem;
            scroll-snap-align: start;
            border: 2px solid var(--pink);
        }

        .quote-icon {
            font-size: 2rem;
            color: var(--pink);
            margin-bottom: 0.75rem;
        }

        .reference-text {
            color: var(--medium-gray);
            font-size: 1rem;
            line-height: 1.7;
            font-style: italic;
        }

        /* Filter Section */
        .filter-section {
            position: relative;
            padding-top: 1.5rem;
            background: transparent;
            z-index: 100;
        }

        .filter-bar {
            position: absolute;
            top: -1.5rem;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            gap: 1.25rem;
            z-index: 200;
        }

        .filter-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-icon {
            font-size: 1rem;
        }

        .filter-label {
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            color: var(--medium-gray);
            font-size: 0.8rem;
            white-space: nowrap;
        }

        .filter-divider {
            width: 1px;
            height: 24px;
            background: #E0E0E0;
        }

        /* Service Dropdown with Checkboxes */
        .service-dropdown {
            position: relative;
            z-index: 300;
        }

        .service-dropdown-btn {
            padding: 0.4rem 1.75rem 0.4rem 0.75rem;
            border: 2px solid var(--pink);
            border-radius: 15px;
            background: white;
            font-family: 'Montserrat', sans-serif;
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--dark-gray);
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 12 12'%3E%3Cpath fill='%23FFB6C1' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.5rem center;
            min-width: 100px;
            text-align: left;
        }

        .service-dropdown-btn:hover {
            background-color: var(--cream);
        }

        .service-dropdown-menu {
            display: none;
            position: absolute;
            top: calc(100% + 0.5rem);
            left: 0;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            padding: 0.75rem 0;
            min-width: 180px;
            z-index: 2000;
        }

        .service-dropdown-menu.active {
            display: block;
        }

        .service-option {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem 1rem;
            cursor: pointer;
            transition: background 0.2s;
            font-family: 'Montserrat', sans-serif;
            font-size: 0.85rem;
            color: var(--dark-gray);
        }

        .service-option:hover {
            background: var(--cream);
        }

        .service-option input[type="checkbox"] {
            width: 16px;
            height: 16px;
            accent-color: var(--pink);
            cursor: pointer;
        }

        .service-option .service-icon {
            font-size: 1rem;
        }

        /* Rate Slider in Filter Bar */
        .rate-slider {
            -webkit-appearance: none;
            appearance: none;
            width: 80px;
            height: 4px;
            border-radius: 2px;
            background: #E0E0E0;
            outline: none;
        }

        .rate-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--pink);
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(255, 182, 193, 0.4);
        }

        .rate-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--pink);
            cursor: pointer;
            border: none;
        }

        .rate-display {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            color: var(--dark-gray);
            font-size: 0.8rem;
            white-space: nowrap;
        }

        .clear-filter-btn {
            background: none;
            border: none;
            color: var(--light-gray);
            font-size: 0.75rem;
            cursor: pointer;
            padding: 0.25rem;
            transition: color 0.3s;
        }

        .clear-filter-btn:hover {
            color: var(--pink);
        }

        /* Suburb Filter Input */
        .suburb-input {
            background: white;
            border: 2px solid #E0E0E0;
            padding: 0.625rem 1rem;
            border-radius: 50px;
            font-family: 'Montserrat', sans-serif;
            font-weight: 500;
            font-size: 0.9rem;
            min-width: 180px;
            transition: all 0.3s;
            opacity: 0.6;
            cursor: not-allowed;
        }

        .suburb-input:focus {
            outline: none;
            border-color: #E0E0E0;
        }

        .suburb-input::placeholder {
            color: var(--light-gray);
        }

        /* Responsive filter */
        @media (max-width: 768px) {
            .filter-bar {
                position: relative;
                top: 0;
                transform: none;
                left: 0;
                margin: 0 0.5rem;
                border-radius: 15px;
                padding: 0.75rem;
                flex-wrap: wrap;
                justify-content: center;
                gap: 0.75rem;
                max-width: calc(100% - 1rem);
                box-sizing: border-box;
            }

            .filter-section {
                padding: 1rem 0;
                background: #f9f9f9;
                overflow-x: hidden;
            }

            .filter-divider {
                display: none;
            }

            .rate-slider {
                width: 80px;
            }
            
            .filter-group {
                max-width: 100%;
            }
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--sage);
            color: white;
            padding: 1.25rem 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow-medium);
            font-weight: 600;
            font-family: 'Poppins', sans-serif;
            display: none;
            align-items: center;
            gap: 0.75rem;
            z-index: 1000;
            animation: slideDown 0.5s ease;
        }

        .toast.active {
            display: flex;
        }

        .toast-icon {
            font-size: 1.5rem;
        }

        /* Results Page */
        .results-header {
            background: var(--white);
            padding: 3rem 2rem;
            border-bottom: 1px solid #E0E0E0;
            width: 100%;
            box-sizing: border-box;
        }

        .results-header-content {
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
            box-sizing: border-box;
        }

        .results-header h2 {
            color: var(--dark-gray);
            font-size: 1.75rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .results-count {
            color: var(--medium-gray);
            font-size: 1.15rem;
        }

        .results-container {
            max-width: 1200px;
            margin: 3rem auto;
            padding: 0 2rem;
            width: 100%;
            box-sizing: border-box;
        }

        .sitter-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2rem;
        }

        /* Force single column on smaller screens to prevent overflow */
        @media (max-width: 768px) {
            .sitter-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
                padding: 0;
            }
        }

        .sitter-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow-light);
            transition: transform 0.3s;
            cursor: pointer;
        }

        .sitter-card:hover {
            transform: translateY(-5px);
        }

        .sitter-image {
            width: 100%;
            height: 240px;
            background: var(--cream);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            position: relative;
            overflow: hidden;
        }

        .sitter-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center 30%;
            transition: transform 0.3s;
        }

        .sitter-card:hover .sitter-image img {
            transform: scale(1.05);
        }

        .verified-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--sage);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            font-family: 'Poppins', sans-serif;
            display: flex;
            align-items: center;
            gap: 0.375rem;
        }

        .sitter-info {
            padding: 1.75rem;
        }

        .sitter-name {
            color: var(--dark-gray);
            font-size: 1.5rem;
            font-weight: 600;
            font-family: 'Poppins', sans-serif;
            margin-bottom: 0.5rem;
        }

        .sitter-location {
            color: var(--medium-gray);
            font-size: 0.95rem;
            margin-bottom: 1.25rem;
            display: flex;
            align-items: center;
            gap: 0.375rem;
        }

        .sitter-details {
            display: flex;
            flex-wrap: wrap;
            gap: 0.625rem;
            margin-bottom: 1.25rem;
        }

        .detail-tag {
            background: var(--cream);
            color: var(--dark-gray);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            transition: all 0.3s;
            cursor: pointer;
            user-select: none;
        }

        .detail-tag:hover {
            background: var(--pink);
            color: white;
            transform: translateY(-2px);
        }

        .detail-tag.active {
            background: var(--pink);
            color: white;
            border: 2px solid var(--pink-hover);
            font-weight: 600;
        }

        .sitter-rate {
            color: var(--dark-gray);
            font-weight: 700;
            font-size: 1.25rem;
            font-family: 'Poppins', sans-serif;
        }

        .sitter-bio {
            color: var(--medium-gray);
            font-size: 0.95rem;
            margin-bottom: 1rem;
            display: -webkit-box;
            -webkit-line-clamp: 4;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            line-height: 1.5;
        }

        /* Profile Page */
        .profile-container {
            max-width: 1000px;
            margin: 3rem auto;
            padding: 0 2rem;
        }

        .profile-hero {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            box-shadow: var(--shadow-light);
            margin-bottom: 2rem;
        }

        .profile-header {
            display: flex;
            gap: 2.5rem;
            margin-bottom: 2.5rem;
            flex-wrap: wrap;
        }

        .profile-image {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: var(--cream);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            flex-shrink: 0;
            overflow: hidden;
            box-shadow: var(--shadow-light);
        }

        .profile-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center 35%;
        }

        .profile-info-main {
            flex: 1;
        }

        .profile-name {
            color: var(--dark-gray);
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .profile-stats {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
            margin-top: 1.5rem;
        }

        .stat {
            text-align: center;
            padding: 1.25rem 1.5rem;
            background: var(--cream);
            border-radius: 20px;
        }

        .stat-number {
            color: var(--dark-gray);
            font-size: 2rem;
            font-weight: 700;
            font-family: 'Poppins', sans-serif;
            line-height: 1;
        }

        .stat-label {
            color: var(--medium-gray);
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        .section {
            background: white;
            border-radius: 20px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-light);
        }

        .section h3 {
            color: var(--dark-gray);
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .about-text {
            color: var(--medium-gray);
            line-height: 1.8;
            font-size: 1rem;
        }

        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.25rem;
            margin-top: 1.5rem;
        }

        .gallery-photo {
            width: 100%;
            height: 200px;
            border-radius: 15px;
            object-fit: contain;
            object-position: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #F5F5F5;
        }

        .gallery-photo:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-medium);
        }

        .contact-btn {
            width: 100%;
            background: var(--pink);
            color: white;
            border: none;
            padding: 1rem 2.5rem;
            font-size: 1.1rem;
            font-weight: 600;
            font-family: 'Poppins', sans-serif;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: var(--shadow-pink);
        }

        .contact-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 182, 193, 0.4);
            background: var(--pink-hover);
        }

        /* Back Button */
        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--dark-gray);
            text-decoration: none;
            font-weight: 500;
            font-family: 'Montserrat', sans-serif;
            margin-bottom: 2rem;
            transition: all 0.3s;
            font-size: 1rem;
            cursor: pointer;
        }

        .back-btn:hover {
            color: var(--pink);
            gap: 0.75rem;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(44, 44, 44, 0.75);
            backdrop-filter: blur(8px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            max-width: 550px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: var(--shadow-medium);
            animation: slideUp 0.4s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-close {
            position: absolute;
            top: 1.25rem;
            right: 1.25rem;
            background: var(--cream);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 1.5rem;
            color: var(--dark-gray);
            cursor: pointer;
            line-height: 1;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            background: var(--pink);
            color: white;
        }

        .modal h3 {
            color: var(--dark-gray);
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .modal p {
            color: var(--medium-gray);
            margin-bottom: 2rem;
            font-size: 1rem;
        }

        /* Lightbox */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .lightbox.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .lightbox img {
            max-width: 90%;
            max-height: 90%;
            border-radius: 15px;
            object-fit: contain;
        }

        .lightbox-close {
            position: absolute;
            top: 2rem;
            right: 2rem;
            background: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            color: var(--dark-gray);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .lightbox-close:hover {
            background: var(--pink);
            color: white;
        }

        /* Loading State */
        .loading {
            text-align: center;
            padding: 4rem;
            color: var(--medium-gray);
            font-size: 1.25rem;
            font-weight: 500;
        }

        /* Footer */
        footer {
            background: var(--dark-gray);
            color: white;
            padding: 3rem 2rem 2rem;
            text-align: center;
        }

        .footer-logo {
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .footer-tagline {
            opacity: 0.8;
            margin-bottom: 1.5rem;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-links a {
            color: white;
            text-decoration: none;
            opacity: 0.8;
            transition: opacity 0.3s;
        }

        .footer-links a:hover {
            opacity: 1;
        }

        .footer-copyright {
            font-size: 0.9rem;
            opacity: 0.6;
        }

        /* Utilities */
        .hidden {
            display: none !important;
        }

        /* Responsive Design */
        
        /* Large Desktop */
        @media (min-width: 1200px) {
            .hero {
                padding: 3rem 2rem 2rem;
            }
            
            .hero h2 {
                font-size: 3rem;
            }
            
            .search-form {
                grid-template-columns: 1fr 1fr;
                gap: 1rem;
            }
            
            .search-form .form-group:last-of-type {
                grid-column: 1 / -1;
            }
            
            .search-form .btn-primary {
                grid-column: 1 / -1;
            }
        }
        
        /* Medium Desktop */
        @media (min-width: 769px) and (max-width: 1199px) {
            .hero {
                padding: 2rem 2rem 1.5rem;
                min-height: calc(100vh - 76px);
            }
            
            .hero h2 {
                font-size: 2.5rem;
                margin-bottom: 1.25rem;
            }
            
            .search-container {
                padding: 1.5rem;
            }
            
            .carousel-container {
                margin-top: 1.5rem;
            }
            
            .carousel-item {
                width: 150px;
                height: 150px;
            }
            
            @keyframes scroll {
                0% {
                    transform: translateX(0);
                }
                100% {
                    transform: translateX(calc(-150px * 9 - 1rem * 9));
                }
            }
        }

        /* Tablet */
        @media (max-width: 768px) {
            header {
                padding: 1rem 1.5rem;
            }

            .nav-links {
                display: none;
            }

            .hero {
                padding: 1.5rem 1rem 1rem;
                min-height: calc(100vh - 60px);
            }

            .hero h2 {
                font-size: 1.75rem;
                margin-bottom: 1rem;
            }

            .search-container {
                padding: 1.25rem;
            }
            
            .search-form {
                gap: 0.875rem;
            }
            
            .form-group label {
                font-size: 0.9rem;
            }
            
            .form-group input,
            .form-group select,
            .form-group textarea {
                padding: 0.75rem 0.875rem;
                font-size: 0.95rem;
            }
            
            .btn-primary {
                padding: 0.875rem 2rem;
                font-size: 1rem;
            }

            .carousel-container {
                margin-top: 1.5rem;
            }

            .carousel-item {
                width: 130px;
                height: 130px;
            }

            @keyframes scroll {
                0% {
                    transform: translateX(0);
                }
                100% {
                    transform: translateX(calc(-130px * 9 - 1rem * 9));
                }
            }

            .join-section {
                padding: 3rem 1rem;
            }

            .join-title {
                font-size: 1.75rem;
            }

            .join-description {
                font-size: 1rem;
            }

            .join-disclaimer {
                display: block;
            }

            .join-btn {
                margin-top: 1rem;
            }

            .features-section {
                padding: 3rem 1rem;
            }

            .section-title {
                font-size: 1.75rem;
                margin-bottom: 2rem;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .feature-card {
                padding: 2.5rem;
                border-radius: 20px;
            }

            .feature-icon {
                font-size: 3rem;
                margin-bottom: 1.5rem;
            }

            .feature-title {
                font-size: 1.5rem;
                margin-bottom: 1rem;
            }

            .feature-description {
                font-size: 1rem;
                line-height: 1.6;
            }

            .results-header {
                padding: 2rem 1rem;
            }

            .results-header h2 {
                font-size: 1.5rem;
            }

            .results-container {
                padding: 0 1rem;
                margin: 1.5rem auto;
            }

            .sitter-grid {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }

            /* Horizontal card layout for mobile */
            .sitter-card {
                display: flex;
                border-radius: 12px;
            }

            .sitter-card:hover {
                transform: none;
            }

            .sitter-image {
                width: 90px;
                min-width: 90px;
                height: auto;
                font-size: 2rem;
                flex-shrink: 0;
                flex-direction: column;
            }

            .sitter-image img {
                width: 90px;
                height: 90px;
                object-position: center;
            }

            .sitter-image > span:not(.verified-badge) {
                width: 90px;
                height: 90px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .verified-badge {
                position: relative;
                top: auto;
                right: auto;
                padding: 0.2rem 0.4rem;
                font-size: 0.5rem;
                gap: 0.15rem;
                border-radius: 0 0 8px 8px;
                width: 100%;
                justify-content: center;
            }

            .sitter-info {
                padding: 0.625rem;
                flex: 1;
                display: flex;
                flex-direction: column;
                justify-content: center;
            }

            .sitter-name {
                font-size: 0.9rem;
                margin-bottom: 0.125rem;
            }

            .sitter-location {
                font-size: 0.65rem;
                margin-bottom: 0.25rem;
            }

            .sitter-details {
                gap: 0.2rem;
                margin-bottom: 0.25rem;
            }

            .detail-tag {
                padding: 0.1rem 0.3rem;
                font-size: 0.55rem;
                border-radius: 20px;
            }

            .detail-tag:hover {
                transform: none;
            }

            .sitter-rate {
                font-size: 0.75rem;
            }

            .profile-container {
                padding: 0 1rem;
                margin: 1.5rem auto;
            }

            .profile-hero {
                padding: 1.5rem;
            }

            .profile-header {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            .profile-image {
                width: 120px;
                height: 120px;
                font-size: 3.5rem;
            }

            .profile-name {
                font-size: 1.75rem;
            }

            .profile-stats {
                flex-direction: row;
                justify-content: center;
                gap: 0.5rem;
            }

            .stat {
                padding: 0.75rem 0.5rem;
                min-width: 0;
                flex: 1;
            }

            .stat-number {
                font-size: 1.25rem;
            }

            .stat-label {
                font-size: 0.65rem;
            }

            /* Photo gallery horizontal scroll on mobile */
            .photo-gallery {
                display: flex;
                gap: 1rem;
                overflow-x: auto;
                padding-bottom: 0.75rem;
                scroll-snap-type: x mandatory;
            }

            .photo-gallery::-webkit-scrollbar {
                height: 6px;
            }

            .photo-gallery::-webkit-scrollbar-track {
                background: var(--cream);
                border-radius: 3px;
            }

            .photo-gallery::-webkit-scrollbar-thumb {
                background: var(--pink);
                border-radius: 3px;
            }

            .gallery-photo {
                flex-shrink: 0;
                width: 200px;
                height: 200px;
                scroll-snap-align: start;
            }

            .section {
                padding: 1.5rem;
            }

            .modal-content {
                padding: 1.5rem;
            }

            .toast {
                right: 1rem;
                left: 1rem;
                bottom: 1rem;
            }

            footer {
                padding: 2rem 1rem;
            }

            .footer-links {
                flex-direction: column;
                gap: 1rem;
            }
        }

        /* Small Mobile */
        @media (max-width: 480px) {
            .hero {
                padding: 1rem 0.75rem 0.75rem;
            }
            
            .hero h2 {
                font-size: 1.5rem;
                margin-bottom: 0.875rem;
            }
            
            .search-container {
                padding: 1rem;
                border-radius: 15px;
            }
            
            .search-form {
                gap: 0.75rem;
            }
            
            .form-group label {
                font-size: 0.85rem;
                margin-bottom: 0.375rem;
            }
            
            .form-group input,
            .form-group select {
                padding: 0.625rem 0.75rem;
                font-size: 0.9rem;
                border-radius: 8px;
            }

            .btn-primary {
                font-size: 0.95rem;
                padding: 0.75rem 1.5rem;
            }

            .join-title {
                font-size: 1.5rem;
            }

            .feature-card {
                padding: 1.75rem;
            }

            .carousel-item {
                width: 110px;
                height: 110px;
            }

            @keyframes scroll {
                0% {
                    transform: translateX(0);
                }
                100% {
                    transform: translateX(calc(-110px * 9 - 1rem * 9));
                }
            }

            /* Keep stats horizontal on small mobile */
            .profile-stats {
                flex-direction: row;
                gap: 0.375rem;
            }

            .stat {
                padding: 0.5rem 0.25rem;
            }

            .stat-number {
                font-size: 1.1rem;
            }

            .stat-label {
                font-size: 0.6rem;
            }

            /* Smaller photos on small mobile */
            .gallery-photo {
                width: 160px;
                height: 160px;
            }
        }
        
        /* Extra Small Mobile */
        @media (max-width: 360px) {
            .hero h2 {
                font-size: 1.35rem;
            }
            
            .carousel-item {
                width: 90px;
                height: 90px;
            }

            @keyframes scroll {
                0% {
                    transform: translateX(0);
                }
                100% {
                    transform: translateX(calc(-90px * 9 - 1rem * 9));
                }
            }
        }

        /* Additional Mobile Fixes */
        @media (max-width: 768px) {
            * {
                max-width: 100%;
            }
            
            body {
                overflow-x: hidden !important;
            }
            
            #resultsPage {
                overflow-x: hidden;
                max-width: 100vw;
            }
            
            /* Header responsive */
            header {
                padding: 1rem;
                width: 100%;
            }

            .logo h1 {
                font-size: 1.2rem;
            }

            .nav-links {
                gap: 1rem;
                font-size: 0.9rem;
            }

            /* Hero section responsive */
            .hero {
                padding: 1.5rem 1rem;
            }

            .hero h2 {
                font-size: 2rem;
            }

            /* Search container responsive */
            .search-container {
                padding: 1.5rem 1rem;
            }

            /* Filter section responsive */
            .filter-section {
                overflow-x: hidden;
            }

            .filter-group {
                flex-wrap: wrap;
            }

            .suburb-input {
                min-width: 140px;
                max-width: 100%;
                font-size: 0.85rem;
            }

            .service-dropdown-btn {
                font-size: 0.75rem;
                min-width: 90px;
                padding: 0.4rem 1.5rem 0.4rem 0.65rem;
            }

            .filter-label {
                font-size: 0.75rem;
            }

            .rate-display {
                font-size: 0.75rem;
            }

            /* Results container responsive */
            .results-container {
                padding: 1rem;
                margin: 0;
                max-width: 100%;
                overflow-x: hidden;
            }

            .results-header {
                padding: 1.5rem 1rem;
                width: 100%;
                overflow-x: hidden;
            }

            .results-header-content {
                max-width: 100%;
                overflow-x: hidden;
            }

            .results-header h2 {
                font-size: 1.5rem;
                word-wrap: break-word;
            }

            .results-count {
                font-size: 1rem;
                word-wrap: break-word;
            }

            /* Sitter cards responsive */
            .sitter-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
                padding: 0;
                width: 100%;
                max-width: 100%;
            }

            .sitter-card {
                max-width: 100%;
                width: 100%;
                margin: 0;
                overflow: hidden;
            }

            .sitter-info {
                padding: 1.25rem;
                word-wrap: break-word;
                overflow-wrap: break-word;
            }
            
            .sitter-name {
                word-wrap: break-word;
                font-size: 1.4rem;
            }
            
            .sitter-location {
                word-wrap: break-word;
                font-size: 0.9rem;
            }
            
            .sitter-details {
                width: 100%;
                overflow: hidden;
            }
            
            .detail-tag {
                max-width: calc(50% - 0.5rem);
                overflow: hidden;
                text-overflow: ellipsis;
                white-space: nowrap;
            }

            /* Sitter bio - show 4 lines on mobile */
            .sitter-bio {
                -webkit-line-clamp: 4;
                word-wrap: break-word;
            }

            /* Profile page responsive */
            .profile-container {
                padding: 1rem;
            }

            .profile-header {
                flex-direction: column;
                text-align: center;
            }

            .profile-image {
                width: 120px;
                height: 120px;
            }

            /* Modal responsive */
            .modal-content {
                width: 95%;
                max-width: 100%;
                margin: 1rem;
                padding: 1.5rem;
            }

            /* Join section responsive */
            .join-section {
                padding: 3rem 1.5rem;
            }

            .join-title {
                font-size: 1.75rem;
            }

            /* Features section responsive */
            .features-grid {
                grid-template-columns: 1fr;
            }

            /* Footer responsive */
            footer {
                padding: 2rem 1rem;
            }

            .footer-links {
                flex-wrap: wrap;
                gap: 1rem;
            }
        }

        /* Small mobile additional fixes */
        @media (max-width: 480px) {
            body {
                min-width: 100%;
            }
            
            .hero h2 {
                font-size: 1.75rem;
            }

            .filter-bar {
                margin: 0 0.25rem;
                padding: 0.5rem;
                gap: 0.5rem;
                max-width: calc(100% - 0.5rem);
            }

            .suburb-input {
                min-width: 100px;
                font-size: 0.8rem;
                padding: 0.5rem 0.75rem;
            }
            
            .service-dropdown-btn {
                min-width: 80px;
                font-size: 0.7rem;
            }

            .filter-group {
                width: 100%;
                justify-content: center;
                max-width: 100%;
            }

            .results-header h2 {
                font-size: 1.25rem;
            }
            
            .results-container {
                padding: 0.5rem;
            }

            .sitter-card {
                width: 100%;
                max-width: 100%;
                margin: 0 auto;
            }

            .sitter-name {
                font-size: 1.3rem;
            }

            .detail-tag {
                font-size: 0.75rem;
                padding: 0.35rem 0.7rem;
            }
            
            .rate-slider {
                width: 60px;
            }
            
            .filter-label {
                font-size: 0.7rem;
            }
        }

        /* Google Places Autocomplete Styling */
        .pac-container {
            font-family: 'Montserrat', sans-serif;
            border-radius: 15px;
            border: 2px solid var(--pink);
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            margin-top: 5px;
            overflow: hidden;
        }

        .pac-item {
            padding: 10px 15px;
            cursor: pointer;
            border-top: 1px solid #f0f0f0;
            font-size: 0.95rem;
        }

        .pac-item:first-child {
            border-top: none;
        }

        .pac-item:hover {
            background: var(--cream);
        }

        .pac-item-selected {
            background: var(--cream);
        }

        .pac-icon {
            display: none;
        }

        .pac-item-query {
            font-weight: 600;
            color: var(--dark-gray);
        }

        .pac-matched {
            color: var(--pink);
            font-weight: 600;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-content">
            <div class="logo" onclick="showLanding()">
                <span class="paw-icon">üêæ</span>
                <h1>MyPetFriends</h1>
            </div>
            <nav class="nav-links">
                <a href="#" onclick="showLanding()">Home</a>
                <a href="sittersignup.html">Become a Sitter</a>
            </nav>
        </div>
    </header>

    <!-- SCREEN 1: Landing Page -->
    <div id="landingPage">
        <section class="hero">
            <div class="hero-content">
                <h2>Your pets second favourite home üè°</h2>
                
                <div class="search-container">
                    <form class="search-form" onsubmit="return handleSearch(event);">
                        <div class="form-group">
                            <label for="location">üìç Your home suburb</label>
                            <input type="text" id="location" placeholder="All suburbs (or start typing to filter)..." autocomplete="off">
                        </div>
                        
                        <div class="form-group">
                            <label for="petType">üêï Who needs spoiling? <span class="required">*</span></label>
                            <select id="petType" required>
                                <option value="">Select your buddy</option>
                                <option value="dog">Dog (the waggy one)</option>
                                <option value="cat">Cat (the boss)</option>
                                <option value="both">Both (double trouble)</option>
                                <option value="other">Other (the unique one)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="service">üè° What kind of pet care? <span class="required">*</span></label>
                            <select id="service" required>
                                <option value="">Select service</option>
                                <option value="pet-sitting">Pet Sitting (sitter stays at your home)</option>
                                <option value="boarding">Boarding (pets stay at sitter's home)</option>
                                <option value="daycare">Daycare (daytime at sitter's home)</option>
                                <option value="visits">Home Visits (check-ins at your home)</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="btn-primary">Find Your Pets New BFF üêæ</button>
                    </form>
                </div>

                <!-- Pet Photo Carousel -->
                <div class="carousel-container">
                    <div class="carousel">
                        <!-- First set of images (ordered so no same colors are adjacent) -->
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/6a5043df-105a-466e-92dc-b9080c8c9151.png" alt="Happy pet">
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/20b44c26-dcc3-4a56-a612-6395afef40ff.png" alt="Happy pet">
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/efecb937-f92c-4fda-873b-6498e4630e75.png" alt="Happy pet">
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/062074ee-d6b6-47e8-9e63-0a8ae574bf18.png" alt="Happy pet">
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/4992fa8d-bcf3-4c25-a15a-3b763bc9aa0b.png" alt="Happy pet">
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/e073ce70-dd14-4c3b-b272-14a78a2f96ad.png" alt="Happy pet">
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/d53d9c38-3321-42dc-9d55-b400dfd997cd.png" alt="Happy pet">
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/e3ed2483-0fb4-430a-aebd-dc5ba75c5620.png" alt="Happy pet">
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/9479f055-f5bd-4183-9ca0-ae595ecf466d.png" alt="Happy pet">
                        </div>
                        <!-- Duplicate set for seamless infinite loop -->
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/6a5043df-105a-466e-92dc-b9080c8c9151.png" alt="Happy pet">
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/20b44c26-dcc3-4a56-a612-6395afef40ff.png" alt="Happy pet">
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/efecb937-f92c-4fda-873b-6498e4630e75.png" alt="Happy pet">
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/062074ee-d6b6-47e8-9e63-0a8ae574bf18.png" alt="Happy pet">
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/4992fa8d-bcf3-4c25-a15a-3b763bc9aa0b.png" alt="Happy pet">
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/e073ce70-dd14-4c3b-b272-14a78a2f96ad.png" alt="Happy pet">
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/d53d9c38-3321-42dc-9d55-b400dfd997cd.png" alt="Happy pet">
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/e3ed2483-0fb4-430a-aebd-dc5ba75c5620.png" alt="Happy pet">
                        </div>
                        <div class="carousel-item">
                            <img src="https://cdn.pet-friends.co.za/images/9479f055-f5bd-4183-9ca0-ae595ecf466d.png" alt="Happy pet">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Join as Pet Sitter Section -->
        <section class="join-section" id="join">
            <div class="join-content">
                <h2 class="join-title">Want to become a Pet Friend?</h2>
                <p class="join-description">
                    We're at the very beginning, and we want to build this WITH you, not just FOR you. Join our growing team of local trusted pet sitters.
                </p>
                
                <a href="sittersignup.html" class="btn-primary join-btn" style="display: inline-block; text-decoration: none;">Sign me up</a>

                <p class="join-disclaimer" style="margin-top: 1.5rem;">
                    No spam, we promise. We'll only reach out about joining our community.
                </p>
            </div>
        </section>

        <section class="features-section">
            <div class="features-section-content">
                <h2 class="section-title">Why choose MyPetFriends?</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <span class="feature-icon">ü§ù</span>
                        <h3 class="feature-title">Trusted Pet Lovers</h3>
                        <p class="feature-description">Connect with verified pet lovers in your community who genuinely care about your furry friends.</p>
                    </div>

                    <div class="feature-card">
                        <span class="feature-icon">üè°</span>
                        <h3 class="feature-title">Home Environment</h3>
                        <p class="feature-description">Your pet stays comfortable in a loving home setting, not a cold kennel.</p>
                    </div>

                    <div class="feature-card">
                        <span class="feature-icon">üí¨</span>
                        <h3 class="feature-title">Direct Connection</h3>
                        <p class="feature-description">Chat directly with pet carers via WhatsApp. No middleman, just real conversations.</p>
                    </div>
                </div>
            </div>
        </section>

        <footer>
            <div class="footer-logo">üêæ MyPetFriends</div>
            <p class="footer-tagline">Building a better way for local pet sitters to connect with pet owners</p>
            <div class="footer-links">
                <a href="#" onclick="showLanding()">Home</a>
                <a href="sittersignup.html">Become a Sitter</a>
                <a href="terms.html">Terms & Conditions</a>
                <a href="privacy.html">Privacy Policy</a>
            </div>
            <p class="footer-copyright">&copy; 2025 PETFRIENDS. Made with üíï in Cape Town.</p>
        </footer>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <span class="toast-icon">‚úì</span>
        <span id="toastMessage">Thank you, our team will be in touch shortly</span>
    </div>

    <!-- SCREEN 2: Results Page -->
    <div id="resultsPage" class="hidden">
        <div class="results-header">
            <div class="results-header-content">
                <a class="back-btn" onclick="showLanding()">‚Üê Back to search</a>
                <h2 id="resultsTitle">Great news! We found some amazing sitters</h2>
                <p class="results-count" id="resultsCount">Loading pet lovers near you...</p>
            </div>
        </div>

        <div class="filter-section">
            <div class="filter-bar">
                <div class="filter-group">
                    <span class="filter-icon">üìç</span>
                    <input type="text" id="suburbFilter" class="suburb-input" placeholder="All suburbs..." autocomplete="off" readonly title="Suburb filter coming soon">
                </div>
                <span class="filter-divider"></span>
                <div class="filter-group">
                    <span class="filter-icon">üè†</span>
                    <div class="service-dropdown">
                        <button class="service-dropdown-btn" onclick="toggleServiceDropdown()" id="serviceDropdownBtn">All Services</button>
                        <div class="service-dropdown-menu" id="serviceDropdownMenu">
                            <label class="service-option">
                                <input type="checkbox" value="all" checked onchange="handleServiceFilter(this)">
                                <span>All Services</span>
                            </label>
                            <label class="service-option">
                                <input type="checkbox" value="boarding" onchange="handleServiceFilter(this)">
                                <span class="service-icon">üè†</span>
                                <span>Boarding</span>
                            </label>
                            <label class="service-option">
                                <input type="checkbox" value="pet sitting" onchange="handleServiceFilter(this)">
                                <span class="service-icon">üè°</span>
                                <span>Pet Sitting</span>
                            </label>
                            <label class="service-option">
                                <input type="checkbox" value="daycare" onchange="handleServiceFilter(this)">
                                <span class="service-icon">‚òÄÔ∏è</span>
                                <span>Daycare</span>
                            </label>
                            <label class="service-option">
                                <input type="checkbox" value="home visits" onchange="handleServiceFilter(this)">
                                <span class="service-icon">üëÄ</span>
                                <span>Home Visits</span>
                            </label>
                            <label class="service-option">
                                <input type="checkbox" value="dog walking" onchange="handleServiceFilter(this)">
                                <span class="service-icon">üö∂</span>
                                <span>Dog Walking</span>
                            </label>
                        </div>
                    </div>
                </div>
                <span class="filter-divider"></span>
                <div class="filter-group">
                    <span class="filter-label">üí∞ Max daily rate:</span>
                    <input type="range" id="rateSlider" class="rate-slider" min="100" max="500" value="500" step="25">
                    <span class="rate-display" id="rateDisplay">‚â§R500</span>
                </div>
                <button class="clear-filter-btn" onclick="clearAllFilters()">‚úï Clear</button>
            </div>
        </div>

        <div class="results-container" style="padding-top: 1rem;">
            <div id="sitterGrid" class="sitter-grid">
                <div class="loading">üêæ Finding the best pet lovers near you...</div>
            </div>
        </div>

        <footer>
            <div class="footer-logo">üêæ MyPetFriends</div>
            <p class="footer-tagline">Building a better way for local pet sitters to connect with pet owners</p>
            <div class="footer-links">
                <a href="terms.html">Terms & Conditions</a>
                <a href="privacy.html">Privacy Policy</a>
            </div>
            <p class="footer-copyright">&copy; 2025 PETFRIENDS. Made with üíï in Cape Town.</p>
        </footer>
    </div>

    <!-- SCREEN 3: Sitter Profile -->
    <div id="profilePage" class="hidden">
        <div class="profile-container">
            <a class="back-btn" onclick="showResults()">‚Üê Back to results</a>
            
            <div id="profileContent">
                <!-- Profile content will be injected here -->
            </div>
        </div>

        <footer>
            <div class="footer-logo">üêæ MyPetFriends</div>
            <p class="footer-tagline">Building a better way for local pet sitters to connect with pet owners</p>
            <div class="footer-links">
                <a href="terms.html">Terms & Conditions</a>
                <a href="privacy.html">Privacy Policy</a>
            </div>
            <p class="footer-copyright">&copy; 2025 PETFRIENDS. Made with üíï in Cape Town.</p>
        </footer>
    </div>

    <!-- Contact Modal -->
    <div id="contactModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <h3>Let's get your pet sorted! üêæ</h3>
            <p id="modalSitterName">Tell the sitter a bit about yourself and your furry friend.</p>
            
            <form class="search-form" onsubmit="return submitContact(event);">
                <div class="form-group">
                    <label for="ownerName">Your Name <span class="required">*</span></label>
                    <input type="text" id="ownerName" placeholder="e.g., Alex" required>
                </div>
                
                <div class="form-group">
                    <label for="ownerPhone">Your Phone Number <span class="required">*</span></label>
                    <input type="tel" id="ownerPhone" placeholder="e.g., 082 123 4567" required>
                </div>
                
                <div class="form-group">
                    <label for="petName">Your Pet's Name <span class="required">*</span></label>
                    <input type="text" id="petName" placeholder="e.g., Fluffy" required>
                </div>
                
                <div class="form-group">
                    <label for="startDate">Start Date <span class="required">*</span></label>
                    <input type="date" id="startDate" required>
                </div>

                <div class="form-group">
                    <label for="endDate">End Date <span class="required">*</span></label>
                    <input type="date" id="endDate" required>
                </div>
                
                <div class="form-group">
                    <label for="message">Tell the sitter about your pet <span class="required">*</span></label>
                    <textarea id="message" rows="4" placeholder="e.g., Max is a 3-year-old Labrador who loves fetch, scared of thunderstorms, and thinks he's a lapdog despite being 30kg..." required></textarea>
                </div>
                
                <button type="submit" class="btn-primary">Send Message via WhatsApp üì±</button>
            </form>
        </div>
    </div>

    <!-- Lightbox for Full-Size Photos -->
    <div id="lightbox" class="lightbox" onclick="closeLightbox()">
        <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
        <img id="lightboxImage" src="" alt="Full size photo">
    </div>

    <script>
        // ============================================
        // IMPORTANT: ADD YOUR GOOGLE APPS SCRIPT URL HERE
        // ============================================
        const SHEET_API_URL = 'https://script.google.com/macros/s/AKfycbzah-NaUV6Gd1Lg4z-DTTDeTHGfMd9IVPGc1SZzbL7jeu-j27pSkI6jHeBzw9UrggLf/exec';
        
        // Global variables
        let allSitters = [];
        let filteredSitters = [];
        let currentSitter = null;
        let maxRateFilter = 500;
        let selectedServices = ['all'];
        let suburbFilter = ''; // Empty means show all suburbs

        // Load sitters from Google Sheet
        async function loadSitters() {
            try {
                console.log('Loading sitters from:', SHEET_API_URL);
                
                if (SHEET_API_URL === 'YOUR_APPS_SCRIPT_URL_HERE') {
                    console.error('Please update SHEET_API_URL with your Google Apps Script URL');
                    return [];
                }
                
                const response = await fetch(SHEET_API_URL);
                const data = await response.json();
                
                console.log('Received data:', data);
                
                if (data.error) {
                    console.error('Error from sheet:', data.error);
                    return [];
                }
                
                allSitters = data.sitters || [];
                console.log('Loaded sitters:', allSitters.length);
                return allSitters;
            } catch (error) {
                console.error('Error loading sitters:', error);
                return [];
            }
        }

        // Navigation Functions
        function showLanding() {
            document.getElementById('landingPage').classList.remove('hidden');
            document.getElementById('resultsPage').classList.add('hidden');
            document.getElementById('profilePage').classList.add('hidden');
            window.scrollTo(0, 0);
        }

        async function showResults(preSelectedService = '') {
            document.getElementById('landingPage').classList.add('hidden');
            document.getElementById('resultsPage').classList.remove('hidden');
            document.getElementById('profilePage').classList.add('hidden');
            window.scrollTo(0, 0);
            
            // Load and display sitters
            if (allSitters.length === 0) {
                await loadSitters();
            }
            
            // Capture suburb from landing page and pre-fill the filter
            // NOTE: Suburb filter is displayed but NOT applied - to be implemented later
            const landingSuburbInput = document.getElementById('location');
            if (landingSuburbInput && landingSuburbInput.value) {
                // Show the suburb in the filter input for user reference
                document.getElementById('suburbFilter').value = landingSuburbInput.value;
            } else {
                document.getElementById('suburbFilter').value = '';
            }
            // Always set suburbFilter to empty so it doesn't filter results
            suburbFilter = '';
            
            // Reset rate filter
            maxRateFilter = 500;
            document.getElementById('rateSlider').value = 500;
            document.getElementById('rateDisplay').textContent = '‚â§R500';
            
            // Map landing page service values to filter values
            const serviceMapping = {
                'pet-sitting': 'pet sitting',
                'boarding': 'boarding',
                'daycare': 'daycare',
                'visits': 'home visits'
            };
            
            // Reset all checkboxes first
            const checkboxes = document.querySelectorAll('#serviceDropdownMenu input[type="checkbox"]');
            checkboxes.forEach(cb => {
                cb.checked = false;
            });
            
            // Apply pre-selected service or default to "All"
            if (preSelectedService && serviceMapping[preSelectedService]) {
                const mappedService = serviceMapping[preSelectedService];
                selectedServices = [mappedService];
                
                // Check the corresponding checkbox
                const serviceCheckbox = document.querySelector(`#serviceDropdownMenu input[value="${mappedService}"]`);
                if (serviceCheckbox) {
                    serviceCheckbox.checked = true;
                }
                
                updateServiceButtonText();
            } else {
                // Default to "All Services"
                selectedServices = ['all'];
                const allCheckbox = document.querySelector('#serviceDropdownMenu input[value="all"]');
                if (allCheckbox) {
                    allCheckbox.checked = true;
                }
                document.getElementById('serviceDropdownBtn').textContent = 'All Services';
            }
            
            // Apply filters and display
            applyFilters();
        }

        function handleSearch(event) {
            event.preventDefault();
            // Get the selected service from the landing page dropdown
            const serviceSelect = document.getElementById('service');
            const selectedService = serviceSelect ? serviceSelect.value : '';
            showResults(selectedService);
            return false;
        }

        function showProfile(sitterIndex) {
            currentSitter = filteredSitters[sitterIndex];
            document.getElementById('landingPage').classList.add('hidden');
            document.getElementById('resultsPage').classList.add('hidden');
            document.getElementById('profilePage').classList.remove('hidden');
            
            // Render profile
            renderProfile(currentSitter);
            window.scrollTo(0, 0);
        }

        // Display sitters in grid
        function displaySitters(sitters) {
            const grid = document.getElementById('sitterGrid');
            const count = document.getElementById('resultsCount');
            const title = document.getElementById('resultsTitle');
            
            if (!sitters || sitters.length === 0) {
                grid.innerHTML = '<div class="loading">Try changing your filters to find nearby pet friends</div>';
                count.textContent = 'No sitters available yet';
                title.textContent = 'Oh no, we weren\'t able to find sitters matching your search üòû';
                return;
            }
            
            title.textContent = 'Great news! We found some amazing sitters';
            count.textContent = `We found ${sitters.length} amazing ${sitters.length === 1 ? 'human' : 'humans'} who speak fluent "woof" and "meow"`;
            
            grid.innerHTML = sitters.map((sitter, index) => {
                // Handle services - split by comma if it exists
                const services = sitter.services ? sitter.services.toString().split(',').map(s => s.trim()) : [];
                const servicesTags = services.slice(0, 4).map(service => {
                    const serviceLower = service.toLowerCase();
                    const isActive = selectedServices.includes(serviceLower) && !selectedServices.includes('all');
                    return `<span class="detail-tag ${isActive ? 'active' : ''}" 
                                  onclick="handleServicePillClick(event, '${serviceLower}')">${getServiceEmoji(service)} ${service}</span>`;
                }).join('');
                
                // Use profile photo if available, otherwise use emoji
                const imageContent = sitter.profilePhoto && sitter.profilePhoto.trim() !== '' ? 
                    `<img src="${sitter.profilePhoto}" alt="${sitter.name}" style="width: 100%; height: 100%; object-fit: cover; object-position: center 30%;">` :
                    `<span>${sitter.emoji || 'üêæ'}</span>`;
                
                // Ensure we have values for display
                const displayName = sitter.name || 'Pet Sitter';
                const displayLocation = sitter.location || 'Cape Town';
                const displayBio = sitter.bio || 'Experienced pet sitter';
                const rateValue = sitter.rates ? parseInt(sitter.rates) : null;
                const displayRates = rateValue ? `From R${rateValue}/night` : 'Contact for rates';
                const isVerified = sitter.verified === 'yes' || sitter.verified === 'Yes' || sitter.verified === true;
                
                return `
                    <div class="sitter-card" onclick="showProfile(${index})">
                        <div class="sitter-image">
                            ${imageContent}
                            ${isVerified ? '<span class="verified-badge">‚úì Verified</span>' : ''}
                        </div>
                        <div class="sitter-info">
                            <h3 class="sitter-name">${displayName}</h3>
                            <div class="sitter-location">üìç ${displayLocation}</div>
                            <div class="sitter-details">
                                ${servicesTags}
                            </div>
                            <p class="sitter-bio">${displayBio}</p>
                            <div class="sitter-rate">${displayRates}</div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Filter functions
        function applyFilters() {
            console.log('Applying filters:', {
                suburb: suburbFilter,
                services: selectedServices,
                maxRate: maxRateFilter,
                totalSitters: allSitters.length
            });
            
            filteredSitters = allSitters.filter(sitter => {
                // Rate filter
                const rate = sitter.rates ? parseInt(sitter.rates) : 0;
                const passesRateFilter = rate <= maxRateFilter || rate === 0;
                
                // Service filter
                let passesServiceFilter = true;
                if (!selectedServices.includes('all') && selectedServices.length > 0) {
                    const sitterServices = sitter.services ? sitter.services.toLowerCase() : '';
                    passesServiceFilter = selectedServices.some(service => 
                        sitterServices.includes(service.toLowerCase())
                    );
                }
                
                // Suburb filter - if empty, show all suburbs
                let passesSuburbFilter = true;
                if (suburbFilter && suburbFilter.trim() !== '') {
                    const sitterLocation = sitter.location ? sitter.location.toLowerCase() : '';
                    // Extract just the first part of the suburb filter (before comma)
                    // e.g., "Camps Bay, Cape Town, South Africa" -> "camps bay"
                    const filterSuburb = suburbFilter.split(',')[0].trim().toLowerCase();
                    // Check if the sitter's location contains the filtered suburb
                    passesSuburbFilter = sitterLocation.includes(filterSuburb);
                }
                
                return passesRateFilter && passesServiceFilter && passesSuburbFilter;
            });
            
            console.log('Filtered results:', filteredSitters.length, 'sitters');
            displaySitters(filteredSitters);
        }

        function toggleServiceDropdown() {
            const menu = document.getElementById('serviceDropdownMenu');
            menu.classList.toggle('active');
        }

        function handleServiceFilter(checkbox) {
            const checkboxes = document.querySelectorAll('#serviceDropdownMenu input[type="checkbox"]');
            const allCheckbox = document.querySelector('#serviceDropdownMenu input[value="all"]');
            
            if (checkbox.value === 'all') {
                // If "All" is checked, uncheck others
                if (checkbox.checked) {
                    checkboxes.forEach(cb => {
                        cb.checked = cb.value === 'all';
                    });
                    selectedServices = ['all'];
                } else {
                    checkbox.checked = true; // Keep "All" checked if trying to uncheck
                }
            } else {
                // If a specific service is checked
                if (checkbox.checked) {
                    // Uncheck "All"
                    allCheckbox.checked = false;
                    selectedServices = selectedServices.filter(s => s !== 'all');
                    selectedServices.push(checkbox.value);
                } else {
                    // Remove from selected
                    selectedServices = selectedServices.filter(s => s !== checkbox.value);
                    // If no services selected, check "All"
                    if (selectedServices.length === 0) {
                        allCheckbox.checked = true;
                        selectedServices = ['all'];
                    }
                }
            }
            
            // Update button text
            updateServiceButtonText();
            applyFilters();
        }

        // Handle clicks on service pills in sitter cards
        function handleServicePillClick(event, service) {
            // Stop the card click from triggering
            event.stopPropagation();
            
            const checkboxes = document.querySelectorAll('#serviceDropdownMenu input[type="checkbox"]');
            const allCheckbox = document.querySelector('#serviceDropdownMenu input[value="all"]');
            const serviceCheckbox = document.querySelector(`#serviceDropdownMenu input[value="${service}"]`);
            
            // If currently on "All Services", switch to just this service
            if (selectedServices.includes('all')) {
                selectedServices = [service];
                checkboxes.forEach(cb => cb.checked = false);
                if (serviceCheckbox) serviceCheckbox.checked = true;
            } 
            // If this service is already selected, toggle it off
            else if (selectedServices.includes(service)) {
                selectedServices = selectedServices.filter(s => s !== service);
                if (serviceCheckbox) serviceCheckbox.checked = false;
                
                // If no services left, go back to "All"
                if (selectedServices.length === 0) {
                    selectedServices = ['all'];
                    allCheckbox.checked = true;
                }
            }
            // Add this service to the selection (OR logic)
            else {
                selectedServices.push(service);
                if (serviceCheckbox) serviceCheckbox.checked = true;
            }
            
            // Update UI and apply filters
            updateServiceButtonText();
            applyFilters();
        }

        function updateServiceButtonText() {
            const btn = document.getElementById('serviceDropdownBtn');
            if (selectedServices.includes('all')) {
                btn.textContent = 'All Services';
            } else if (selectedServices.length === 1) {
                btn.textContent = selectedServices[0].charAt(0).toUpperCase() + selectedServices[0].slice(1);
            } else {
                btn.textContent = `${selectedServices.length} selected`;
            }
        }

        function clearAllFilters() {
            // Reset rate
            maxRateFilter = 500;
            document.getElementById('rateSlider').value = 500;
            document.getElementById('rateDisplay').textContent = '‚â§R500';
            
            // Reset services
            selectedServices = ['all'];
            const checkboxes = document.querySelectorAll('#serviceDropdownMenu input[type="checkbox"]');
            checkboxes.forEach(cb => {
                cb.checked = cb.value === 'all';
            });
            document.getElementById('serviceDropdownBtn').textContent = 'All Services';
            
            // Clear suburb filter input (visual only - filter is disabled)
            suburbFilter = ''; // Always empty (disabled)
            document.getElementById('suburbFilter').value = '';
            
            applyFilters();
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const dropdown = document.querySelector('.service-dropdown');
            const menu = document.getElementById('serviceDropdownMenu');
            if (dropdown && !dropdown.contains(event.target)) {
                menu.classList.remove('active');
            }
        });

        // Initialize slider event listener
        document.addEventListener('DOMContentLoaded', function() {
            const slider = document.getElementById('rateSlider');
            if (slider) {
                slider.addEventListener('input', function() {
                    maxRateFilter = parseInt(this.value);
                    document.getElementById('rateDisplay').textContent = `‚â§R${maxRateFilter}`;
                    applyFilters();
                });
            }
        });

        // Render full profile
        function renderProfile(sitter) {
            if (!sitter) {
                console.error('No sitter data provided');
                return;
            }
            
            // Handle services
            const services = sitter.services ? sitter.services.toString().split(',').map(s => s.trim()) : [];
            const servicesHtml = services.map(service => 
                `<span class="detail-tag">${getServiceEmoji(service)} ${service}</span>`
            ).join('');
            
            // Profile image - use photo if available, otherwise emoji
            const profileImageContent = sitter.profilePhoto && sitter.profilePhoto.trim() !== '' ?
                `<img src="${sitter.profilePhoto}" alt="${sitter.name}">` :
                `<span>${sitter.emoji || 'üêæ'}</span>`;
            
            // Collect all additional photos
            const additionalPhotos = [sitter.photo1, sitter.photo2, sitter.photo3]
                .filter(photo => photo && photo.toString().trim() !== '');
            
            // Create photo gallery HTML
            const photoGalleryHtml = additionalPhotos.length > 0 ? `
                <div class="section">
                    <h3>üì∏ Photos</h3>
                    <div class="photo-gallery">
                        ${additionalPhotos.map(photo => 
                            `<img src="${photo}" alt="${sitter.name}'s space" class="gallery-photo" onclick="openLightbox('${photo}')">`
                        ).join('')}
                    </div>
                </div>
            ` : '';
            
            // Collect references
            const references = [sitter.reference_1, sitter.reference_2, sitter.reference_3]
                .filter(ref => ref && ref.toString().trim() !== '');
            
            // Create references HTML
            const referencesHtml = references.length > 0 ? `
                <div class="section">
                    <h3>‚≠ê Reviews</h3>
                    <div class="references-carousel">
                        ${references.map(ref => `
                            <div class="reference-card">
                                <div class="quote-icon">‚ùù</div>
                                <p class="reference-text">${ref}</p>
                            </div>
                        `).join('')}
                    </div>
                </div>
            ` : '';
            
            // Ensure we have display values
            const displayName = sitter.name || 'Pet Sitter';
            const displayLocation = sitter.location || 'Cape Town';
            const displayBio = sitter.bio || 'Experienced and caring pet sitter.';
            const rateValue = sitter.rates ? parseInt(sitter.rates) : null;
            const displayRates = rateValue ? `From R${rateValue}/night` : 'Contact for rates';
            const displayExperience = sitter.experience || '5+';
            const displayPetsTotal = sitter.petsTotal || '50+';
            const displayOwnPets = sitter.ownPets || '0';
            const isVerified = sitter.verified === 'yes' || sitter.verified === 'Yes' || sitter.verified === true;
            
            document.getElementById('profileContent').innerHTML = `
                <div class="profile-hero">
                    <div class="profile-header">
                        <div class="profile-image">
                            ${profileImageContent}
                        </div>
                        <div class="profile-info-main">
                            <h2 class="profile-name">${displayName} ${isVerified ? '<span style="color: var(--sage); font-size: 0.7em;">‚úì</span>' : ''}</h2>
                            <div class="sitter-location" style="font-size: 1rem;">üìç ${displayLocation}</div>
                            
                            <div class="profile-stats">
                                <div class="stat">
                                    <div class="stat-number">${displayExperience}</div>
                                    <div class="stat-label">Years Experience</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-number">${displayPetsTotal}</div>
                                    <div class="stat-label">Happy Pets</div>
                                </div>
                                <div class="stat">
                                    <div class="stat-number">${displayOwnPets}</div>
                                    <div class="stat-label">Own Fur Babies</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>üè° Services & Rates</h3>
                    <p class="about-text">${displayRates}</p>
                    <div class="sitter-details" style="gap: 0.8rem; margin-top: 1rem;">
                        ${servicesHtml}
                    </div>
                </div>

                <div class="section">
                    <h3>‚ú® About ${displayName.split(' ')[0]}</h3>
                    <p class="about-text">${displayBio}</p>
                </div>

                ${photoGalleryHtml}

                ${referencesHtml}

                <div class="section">
                    <button class="contact-btn" onclick="showModal()">Send ${displayName.split(' ')[0]} a Message üíå</button>
                    <p style="text-align: center; color: var(--medium-gray); margin-top: 1rem; font-size: 0.9rem;">
                        We'll send your message via WhatsApp so you can chat directly!
                    </p>
                </div>
            `;
        }

        // Helper function to get emoji for service
        function getServiceEmoji(service) {
            const emojiMap = {
                'boarding': 'üè†',
                'daycare': '‚òÄÔ∏è',
                'walking': 'üö∂',
                'visits': 'üè†',
                'home visits': 'üè†',
                'dog walking': 'üö∂',
                'house sitting': 'üè°'
            };
            return emojiMap[service.toLowerCase()] || 'üêæ';
        }

        // Modal Functions
        function showModal() {
            if (currentSitter) {
                document.getElementById('modalSitterName').textContent = 
                    `Tell ${currentSitter.name.split(' ')[0]} a bit about yourself and your furry friend.`;
            }
            document.getElementById('contactModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('contactModal').classList.remove('active');
        }

        function submitContact(event) {
            event.preventDefault();
            
            const name = document.getElementById('ownerName').value;
            const phone = document.getElementById('ownerPhone').value;
            const petName = document.getElementById('petName').value;
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;
            const message = document.getElementById('message').value;

            // Validate that end date is after start date
            if (new Date(endDate) < new Date(startDate)) {
                alert('End date must be after start date!');
                return false;
            }

            // Format dates nicely for WhatsApp message
            const formatDate = (dateString) => {
                const date = new Date(dateString);
                const options = { day: 'numeric', month: 'short', year: 'numeric' };
                return date.toLocaleDateString('en-GB', options);
            };

            const formattedStartDate = formatDate(startDate);
            const formattedEndDate = formatDate(endDate);
            const dateRange = `${formattedStartDate} - ${formattedEndDate}`;

            // Create WhatsApp message
            const whatsappNumber = currentSitter.whatsapp;
            const whatsappMessage = `Hi ${currentSitter.name.split(' ')[0]}! I'm ${name} and my pet ${petName} needs care from ${dateRange}. ${message}`;
            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(whatsappMessage)}`;
            
            // Open WhatsApp
            window.open(whatsappUrl, '_blank');
            
            // Show confirmation
            alert(`Perfect! üéâ\n\nOpening WhatsApp to message ${currentSitter.name.split(' ')[0]}...`);
            
            closeModal();
            
            // Reset form
            document.getElementById('ownerName').value = '';
            document.getElementById('ownerPhone').value = '';
            document.getElementById('petName').value = '';
            document.getElementById('startDate').value = '';
            document.getElementById('endDate').value = '';
            document.getElementById('message').value = '';
            
            return false;
        }

        // Set minimum date to today for date pickers
        function setMinimumDates() {
            const today = new Date().toISOString().split('T')[0];
            const startDateInput = document.getElementById('startDate');
            const endDateInput = document.getElementById('endDate');
            
            if (startDateInput) {
                startDateInput.setAttribute('min', today);
            }
            if (endDateInput) {
                endDateInput.setAttribute('min', today);
            }

            // Update end date minimum when start date changes
            if (startDateInput) {
                startDateInput.addEventListener('change', function() {
                    endDateInput.setAttribute('min', this.value);
                    // If end date is before new start date, clear it
                    if (endDateInput.value && endDateInput.value < this.value) {
                        endDateInput.value = '';
                    }
                });
            }
        }

        // Call on page load
        window.addEventListener('DOMContentLoaded', () => {
            loadSitters();
            setMinimumDates();
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('contactModal');
            if (event.target == modal) {
                closeModal();
            }
        }

        // Lightbox Functions
        function openLightbox(imageSrc) {
            document.getElementById('lightboxImage').src = imageSrc;
            document.getElementById('lightbox').classList.add('active');
        }

        function closeLightbox() {
            document.getElementById('lightbox').classList.remove('active');
        }

        // Handle Join Form Submission to Google Forms
        function handleJoinSubmit(event) {
            event.preventDefault();
            
            const email = document.getElementById('sitterEmail').value;
            const btn = document.getElementById('joinBtn');
            const form = document.getElementById('joinForm');
            const successMsg = document.getElementById('joinSuccess');
            
            // Disable button during submission
            btn.disabled = true;
            btn.textContent = 'Submitting...';
            
            // Google Form submission URL
            const formId = '1FAIpQLSdsMWz7gkeqxX0aBkjtdhWd9JS9Ta8lIFdHKfHxZNS0nN1HzA';
            const formUrl = `https://docs.google.com/forms/d/e/${formId}/formResponse`;
            
            // Create form data
            const formData = new FormData();
            formData.append('entry.493427878', email);
            
            // Submit to Google Forms using no-cors mode
            fetch(formUrl, {
                method: 'POST',
                body: formData,
                mode: 'no-cors'
            })
            .then(() => {
                // Show success message
                form.style.display = 'none';
                successMsg.classList.add('active');
                
                // Show toast notification
                showToast('Thank you! We\'ll be in touch soon üêæ');
                
                // Reset form after a delay
                setTimeout(() => {
                    form.reset();
                    form.style.display = 'flex';
                    successMsg.classList.remove('active');
                    btn.disabled = false;
                    btn.textContent = 'Let\'s build something better together';
                }, 5000);
            })
            .catch((error) => {
                console.error('Error:', error);
                form.style.display = 'none';
                successMsg.classList.add('active');
                showToast('Thank you! We\'ll be in touch soon üêæ');
                
                setTimeout(() => {
                    form.reset();
                    form.style.display = 'flex';
                    successMsg.classList.remove('active');
                    btn.disabled = false;
                    btn.textContent = 'Let\'s build something better together';
                }, 5000);
            });
            
            return false;
        }

        // Show toast notification
        function showToast(message) {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            toastMessage.textContent = message;
            toast.classList.add('active');
            
            setTimeout(() => {
                toast.classList.remove('active');
            }, 4000);
        }

        // Google Places Autocomplete
        function initAutocomplete() {
            console.log('Initializing Google Places Autocomplete...');
            
            // Check if Google Maps loaded properly
            if (typeof google === 'undefined' || typeof google.maps === 'undefined') {
                console.error('Google Maps JavaScript API failed to load. Check your API key and internet connection.');
                return;
            }
            
            if (typeof google.maps.places === 'undefined') {
                console.error('Google Maps Places library failed to load. Check that libraries=places is in the script URL.');
                return;
            }
            
            // Initialize autocomplete for landing page
            const input = document.getElementById('location');
            
            if (input) {
                try {
                    const options = {
                        componentRestrictions: { country: 'za' },
                        types: ['(regions)']
                    };
                    
                    const autocomplete = new google.maps.places.Autocomplete(input, options);
                    console.log('Landing page autocomplete initialized successfully');
                    
                    // Store the selected place
                    autocomplete.addListener('place_changed', function() {
                        const place = autocomplete.getPlace();
                        if (place.formatted_address) {
                            input.value = place.formatted_address;
                        }
                    });
                } catch (error) {
                    console.error('Error initializing landing page autocomplete:', error);
                }
            }
            
            // Initialize autocomplete for results page suburb filter
            const suburbFilterInput = document.getElementById('suburbFilter');
            
            if (suburbFilterInput) {
                try {
                    const filterOptions = {
                        componentRestrictions: { country: 'za' },
                        types: ['(regions)']
                    };
                    
                    const filterAutocomplete = new google.maps.places.Autocomplete(suburbFilterInput, filterOptions);
                    console.log('Suburb filter autocomplete initialized successfully');
                    
                    // NOTE: Suburb filter events are DISABLED - to be implemented later
                    // When user selects a place from autocomplete, update filter
                    // filterAutocomplete.addListener('place_changed', function() {
                    //     const place = filterAutocomplete.getPlace();
                    //     if (place.formatted_address) {
                    //         suburbFilterInput.value = place.formatted_address;
                    //         suburbFilter = place.formatted_address;
                    //         applyFilters();
                    //     }
                    // });
                    
                    // Also apply filter when user types and presses Enter or blurs
                    // suburbFilterInput.addEventListener('keyup', function(event) {
                    //     if (event.key === 'Enter') {
                    //         suburbFilter = this.value;
                    //         applyFilters();
                    //     }
                    // });
                    
                    // suburbFilterInput.addEventListener('blur', function() {
                    //     suburbFilter = this.value;
                    //     applyFilters();
                    // });
                } catch (error) {
                    console.error('Error initializing suburb filter autocomplete:', error);
                }
            }
            
            console.log('Google Places Autocomplete initialization complete');
        }
        
        // Listen for Google Maps API errors
        window.gm_authFailure = function() {
            console.error('Google Maps API authentication failed!');
            console.error('Possible causes:');
            console.error('1. Invalid API key');
            console.error('2. Billing not enabled in Google Cloud Console');
            console.error('3. API restrictions not properly configured');
            console.error('4. Places API not enabled in your project');
            console.error('Please check the troubleshooting guide for solutions.');
            
            // Show user-friendly message
            alert('Google Maps autocomplete is currently unavailable. You can still type suburb names manually. Please contact support if this persists.');
        };
    </script>
    
    <!-- Google Places API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD5_DMdzRxsI6yD7eFvlIvf0khTAvu2EFU&libraries=places&callback=initAutocomplete" async defer></script>
</body>
</html>
